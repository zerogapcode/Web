<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PPF Estética Médica - Dra. Patricia Padrón Fernández</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              sky: {
                50: '#f0f9ff',
                100: '#e0f2fe',
                200: '#bae6fd',
                300: '#7dd3fc',
                400: '#38bdf8',
                500: '#0ea5e9',
                600: '#0284c7',
                700: '#0369a1',
                800: '#075985',
                900: '#0c4a6e',
              },
              gold: {
                100: '#F9F1D8',
                300: '#EAD69E',
                400: '#D4AF37',
                500: '#C5A028',
                600: '#A6851C',
              },
              primary: '#0ea5e9',
            },
            fontFamily: {
              sans: ['Outfit', 'sans-serif'],
              serif: ['Playfair Display', 'serif'],
            },
            animation: {
              'blob': 'blob 7s infinite',
              'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
            },
            keyframes: {
              blob: {
                '0%': { transform: 'translate(0px, 0px) scale(1)' },
                '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                '100%': { transform: 'translate(0px, 0px) scale(1)' },
              },
              fadeInUp: {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              }
            },
          },
        },
      }
    </script>

    <style>
      body {
        background-color: #F8FAFC;
        color: #1E293B;
        overflow-x: hidden;
      }
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #F1F5F9;
      }
      ::-webkit-scrollbar-thumb {
        background: #CBD5E1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #0ea5e9;
      }
      .glass {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(226, 232, 240, 0.6);
      }
      
      /* Animation Classes for Scroll Reveal */
      .reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
      }
      .reveal.active {
        opacity: 1;
        transform: translateY(0);
      }
      
      .typing-dot {
        animation: typing 1.4s infinite ease-in-out both;
      }
      .typing-dot:nth-child(1) { animation-delay: -0.32s; }
      .typing-dot:nth-child(2) { animation-delay: -0.16s; }
      
      @keyframes typing {
        0%, 80%, 100% { transform: scale(0); }
        40% { transform: scale(1); }
      }

      /* Estilos para el chat de IA integrado */
      .ai-message {
        display: flex;
        gap: 10px;
        animation: messageSlideIn 0.3s ease;
      }
      
      @keyframes messageSlideIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      .ai-message.user {
        justify-content: flex-end;
      }
      
      .ai-message-avatar {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 12px;
        flex-shrink: 0;
      }
      
      .user .ai-message-avatar {
        background: rgba(100, 180, 255, 0.3);
        color: #64b4ff;
      }
      
      .ai .ai-message-avatar {
        background: rgba(100, 220, 150, 0.3);
        color: #00cc88;
      }
      
      .ai-message-content {
        max-width: 75%;
        padding: 10px 14px;
        border-radius: 14px;
        line-height: 1.5;
        font-size: 13px;
        white-space: pre-wrap;
        word-break: break-word;
      }
      
      .user .ai-message-content {
        background: rgba(100, 180, 255, 0.15);
        border-top-right-radius: 4px;
      }
      
      .ai .ai-message-content {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-top-left-radius: 4px;
      }
      
      .ai-typing {
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }
      
      .ai-typing-dot {
        width: 5px;
        height: 5px;
        border-radius: 50%;
        background-color: #64748B;
        animation: aiTypingAnimation 1.4s infinite ease-in-out;
      }
      
      .ai-typing-dot:nth-child(1) { animation-delay: 0s; }
      .ai-typing-dot:nth-child(2) { animation-delay: 0.2s; }
      .ai-typing-dot:nth-child(3) { animation-delay: 0.4s; }
      
      @keyframes aiTypingAnimation {
        0%, 60%, 100% { transform: scale(1); opacity: 0.5; }
        30% { transform: scale(1.2); opacity: 1; }
      }

      /* Estilos para el formulario de contacto */
      .form-alert {
        padding: 12px 16px;
        border-radius: 8px;
        margin-top: 16px;
        font-size: 14px;
        font-weight: 500;
        display: none;
      }

      .form-alert.success {
        background: rgba(100, 220, 150, 0.1);
        border: 1px solid rgba(100, 220, 150, 0.3);
        color: #2d5f3f;
      }

      .form-alert.error {
        background: rgba(255, 100, 100, 0.1);
        border: 1px solid rgba(255, 100, 100, 0.3);
        color: #b91c1c;
      }
    </style>
</head>
<body class="antialiased selection:bg-sky-200 selection:text-sky-900">

    <div id="progress-bar" class="fixed top-0 left-0 h-1.5 bg-gradient-to-r from-sky-400 to-gold-400 z-[100] origin-left transition-transform duration-100" style="transform: scaleX(0);"></div>

    <nav id="navbar" class="fixed top-0 w-full z-50 transition-all duration-300 glass">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 flex items-center gap-2 cursor-pointer" onclick="scrollToSection('hero')">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center text-white font-serif text-xl font-bold shadow-lg">
                        P
                    </div>
                    <div>
                        <h1 class="font-serif text-xl text-slate-800 font-bold tracking-wide">PPF</h1>
                        <p class="text-[0.65rem] text-slate-500 uppercase tracking-widest font-medium">Estética Médica</p>
                    </div>
                </div>

                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#hero" class="nav-link text-slate-600 hover:text-sky-600 transition-colors text-sm font-medium uppercase tracking-wider" data-section="hero">Inicio</a>
                    <a href="#services" class="nav-link text-slate-600 hover:text-sky-600 transition-colors text-sm font-medium uppercase tracking-wider" data-section="services">Tratamientos</a>
                    <a href="#ai-advisor" class="nav-link text-slate-600 hover:text-sky-600 transition-colors text-sm font-medium uppercase tracking-wider" data-section="ai-advisor">AI Advisor</a>
                    <a href="#contact" class="px-6 py-2.5 bg-slate-900 text-white text-sm font-medium rounded-full hover:bg-sky-600 transition-all shadow-lg hover:shadow-sky-200 transform hover:-translate-y-0.5" data-section="contact">
                        Reservar Cita
                    </a>
                </div>

                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-slate-600 hover:text-sky-600 focus:outline-none">
                        <i data-lucide="menu" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-slate-100 absolute w-full shadow-xl">
            <div class="px-4 pt-2 pb-6 space-y-1">
                <a href="#hero" class="mobile-link block px-3 py-3 text-base font-medium text-slate-600 hover:bg-sky-50 hover:text-sky-600 rounded-lg">Inicio</a>
                <a href="#services" class="mobile-link block px-3 py-3 text-base font-medium text-slate-600 hover:bg-sky-50 hover:text-sky-600 rounded-lg">Tratamientos</a>
                <a href="#ai-advisor" class="mobile-link block px-3 py-3 text-base font-medium text-slate-600 hover:bg-sky-50 hover:text-sky-600 rounded-lg">AI Advisor</a>
                <a href="#contact" class="mobile-link block px-3 py-3 text-base font-medium text-sky-600 font-bold bg-sky-50 rounded-lg mt-2">Reservar Cita</a>
            </div>
        </div>
    </nav>

    <main>
        <section id="hero" class="relative pt-20 min-h-screen flex items-center justify-center overflow-hidden">
            <div class="absolute top-0 -left-4 w-72 h-72 bg-sky-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"></div>
            <div class="absolute top-0 -right-4 w-72 h-72 bg-gold-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"></div>
            <div class="absolute -bottom-8 left-20 w-72 h-72 bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"></div>

            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                    <div class="space-y-8 reveal active">
                        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-sky-50 border border-sky-100 text-sky-600 text-xs font-bold tracking-widest uppercase">
                            <span class="w-2 h-2 rounded-full bg-sky-500 animate-pulse"></span>
                            Caracas, Venezuela
                        </div>
                        <h1 class="text-5xl lg:text-7xl font-serif font-medium text-slate-900 leading-tight">
                            Realza tu belleza <br/>
                            <span class="italic text-transparent bg-clip-text bg-gradient-to-r from-sky-500 to-sky-700">natural</span>
                        </h1>
                        <p class="text-lg text-slate-600 max-w-lg leading-relaxed">
                            Medicina estética avanzada con un enfoque personalizado. La unión perfecta entre ciencia médica, tecnología de vanguardia y armonía artística.
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <button onclick="scrollToSection('contact')" class="px-8 py-4 bg-slate-900 text-white rounded-full font-medium hover:bg-slate-800 transition-all shadow-xl hover:shadow-2xl transform hover:-translate-y-1 flex items-center justify-center gap-2">
                                Agendar Consulta
                                <i data-lucide="arrow-right" class="w-4 h-4"></i>
                            </button>
                            <button onclick="scrollToSection('ai-advisor')" class="px-8 py-4 bg-white text-slate-700 border border-slate-200 rounded-full font-medium hover:bg-sky-50 hover:border-sky-200 transition-all flex items-center justify-center gap-2 group">
                                <i data-lucide="sparkles" class="w-4 h-4 text-gold-500 group-hover:rotate-12 transition-transform"></i>
                                Consultar con IA
                            </button>
                        </div>
                        
                        <div class="pt-8 border-t border-slate-200 grid grid-cols-3 gap-8">
                            <div>
                                <p class="text-3xl font-serif text-slate-900">10+</p>
                                <p class="text-sm text-slate-500">Años de exp.</p>
                            </div>
                            <div>
                                <p class="text-3xl font-serif text-slate-900">2k+</p>
                                <p class="text-sm text-slate-500">Pacientes</p>
                            </div>
                            <div>
                                <p class="text-3xl font-serif text-slate-900">100%</p>
                                <p class="text-sm text-slate-500">Compromiso</p>
                            </div>
                        </div>
                    </div>

                    <div class="relative lg:h-[700px] h-[500px] rounded-[40px] overflow-hidden shadow-2xl reveal delay-200 group">
                        <img 
                            src="https://images.unsplash.com/photo-1629909613654-28e377c37b09?q=80&w=2068&auto=format&fit=crop" 
                            alt="Estética Médica" 
                            class="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"
                        >
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900/40 to-transparent"></div>
                        
                        <div class="absolute bottom-8 left-8 right-8 bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-lg border border-white/50">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center text-sky-600">
                                    <i data-lucide="star" class="w-6 h-6 fill-current"></i>
                                </div>
                                <div>
                                    <h3 class="font-serif text-lg font-semibold">Dra. Patricia Padrón</h3>
                                    <p class="text-sm text-slate-600">Especialista en armonización facial y cuidado integral de la piel.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="services" class="py-24 bg-white relative">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center max-w-3xl mx-auto mb-16 reveal">
                    <h2 class="text-sm font-bold tracking-widest text-sky-600 uppercase mb-2">Tratamientos Exclusivos</h2>
                    <h3 class="text-4xl md:text-5xl font-serif text-slate-900 mb-4">Excelencia en cada detalle</h3>
                    <p class="text-slate-600">Descubre nuestra selección de procedimientos diseñados para potenciar tu belleza con resultados naturales y duraderos.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="group bg-slate-50 rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 border border-slate-100 reveal">
                        <div class="h-64 overflow-hidden relative">
                            <img src="https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?q=80&w=2070&auto=format&fit=crop" alt="Facial" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider text-slate-800">Rostro</div>
                        </div>
                        <div class="p-8">
                            <h4 class="text-2xl font-serif text-slate-900 mb-3 group-hover:text-sky-600 transition-colors">Armonización Facial</h4>
                            <p class="text-slate-600 mb-6 text-sm leading-relaxed">Procedimientos mínimamente invasivos con ácido hialurónico para equilibrar las facciones.</p>
                            <a href="#contact" class="inline-flex items-center text-sky-600 font-medium hover:text-sky-800 transition-colors">
                                Más información <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                            </a>
                        </div>
                    </div>

                    <div class="group bg-slate-50 rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 border border-slate-100 reveal delay-100">
                        <div class="h-64 overflow-hidden relative">
                            <img src="https://images.unsplash.com/photo-1616394584738-fc6e612e71b9?q=80&w=2070&auto=format&fit=crop" alt="Piel" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider text-slate-800">Piel</div>
                        </div>
                        <div class="p-8">
                            <h4 class="text-2xl font-serif text-slate-900 mb-3 group-hover:text-sky-600 transition-colors">Bioestimulación</h4>
                            <p class="text-slate-600 mb-6 text-sm leading-relaxed">Activa la producción natural de colágeno para recuperar la firmeza y luminosidad de tu piel.</p>
                            <a href="#contact" class="inline-flex items-center text-sky-600 font-medium hover:text-sky-800 transition-colors">
                                Más información <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                            </a>
                        </div>
                    </div>

                    <div class="group bg-slate-50 rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 border border-slate-100 reveal delay-200">
                        <div class="h-64 overflow-hidden relative">
                            <img src="https://images.unsplash.com/photo-1519823551278-64ac92734fb1?q=80&w=1974&auto=format&fit=crop" alt="Cuerpo" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider text-slate-800">Anti-aging</div>
                        </div>
                        <div class="p-8">
                            <h4 class="text-2xl font-serif text-slate-900 mb-3 group-hover:text-sky-600 transition-colors">Toxina Botulínica</h4>
                            <p class="text-slate-600 mb-6 text-sm leading-relaxed">Suaviza las líneas de expresión manteniendo la naturalidad de tus gestos.</p>
                            <a href="#contact" class="inline-flex items-center text-sky-600 font-medium hover:text-sky-800 transition-colors">
                                Más información <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ai-advisor" class="py-24 relative overflow-hidden bg-slate-50">
            <div class="absolute inset-0 opacity-30 pointer-events-none">
                <div class="absolute top-1/4 right-0 w-96 h-96 bg-sky-200 rounded-full mix-blend-multiply filter blur-3xl animate-blob"></div>
                <div class="absolute bottom-1/4 left-0 w-96 h-96 bg-gold-100 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"></div>
            </div>

            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="grid lg:grid-cols-2 gap-16 items-start">
                    <div class="reveal">
                        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gold-100 border border-gold-200 text-gold-600 text-xs font-bold tracking-widest uppercase mb-6">
                            <i data-lucide="sparkles" class="w-3 h-3"></i>
                            Tecnología Gemini AI
                        </div>
                        <h2 class="text-4xl md:text-5xl font-serif text-slate-900 mb-6">
                            Tu Asesor Estético <br/>
                            <span class="text-sky-600">Inteligente</span>
                        </h2>
                        <p class="text-slate-600 text-lg mb-8 leading-relaxed">
                            ¿Tienes dudas sobre qué tratamiento es ideal para ti? Conversa con nuestro asistente virtual potenciado por IA. Analizará tus inquietudes y te sugerirá las mejores opciones disponibles en nuestro consultorio.
                        </p>
                        
                        <div class="space-y-6">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-sky-500 flex-shrink-0">
                                    <i data-lucide="check-circle-2" class="w-5 h-5"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-slate-900">Consultas 24/7</h4>
                                    <p class="text-sm text-slate-500">Respuestas inmediatas sobre procedimientos y cuidados.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-sky-500 flex-shrink-0">
                                    <i data-lucide="shield-check" class="w-5 h-5"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-slate-900">Privacidad Total</h4>
                                    <p class="text-sm text-slate-500">Tus consultas son anónimas y seguras.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-2xl border border-slate-100 overflow-hidden h-[600px] flex flex-col reveal delay-200">
                        <div class="p-4 bg-slate-900 text-white flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-tr from-sky-400 to-purple-500 p-0.5">
                                    <div class="w-full h-full bg-slate-900 rounded-full flex items-center justify-center">
                                        <i data-lucide="bot" class="w-5 h-5 text-sky-400"></i>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="font-medium text-sm">PPF Assistant</h3>
                                    <p class="text-xs text-slate-400 flex items-center gap-1">
                                        <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span> 
                                        <span id="connection-status">Conectando...</span>
                                    </p>
                                </div>
                            </div>
                            <button onclick="clearAIChat()" class="text-slate-400 hover:text-white transition-colors" title="Reiniciar chat">
                                <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                            </button>
                        </div>

                        <div id="ai-messages" class="flex-1 overflow-y-auto p-6 space-y-4 bg-slate-50/50 scroll-smooth">
                            <div class="ai-message ai">
                                <div class="ai-message-avatar">IA</div>
                                <div class="ai-message-content">
                                    ¡Hola! Soy el asistente virtual de la Dra. Patricia Padrón. ¿En qué puedo ayudarte hoy? Puedes preguntarme sobre tratamientos faciales, corporales o agendar una cita.
                                </div>
                            </div>
                        </div>

                        <div id="ai-typing-indicator" class="hidden px-6 pb-2">
                            <div class="ai-message ai">
                                <div class="ai-message-avatar">IA</div>
                                <div class="ai-message-content">
                                    <div class="ai-typing">
                                        <div class="ai-typing-dot"></div>
                                        <div class="ai-typing-dot"></div>
                                        <div class="ai-typing-dot"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="p-4 bg-white border-t border-slate-100">
                            <form id="ai-chat-form" class="flex gap-2">
                                <input 
                                    type="text" 
                                    id="ai-input"
                                    placeholder="Escribe tu pregunta aquí..." 
                                    class="flex-1 px-4 py-3 rounded-xl bg-slate-50 border-0 focus:ring-2 focus:ring-sky-500 text-sm text-slate-800 placeholder:text-slate-400"
                                    autocomplete="off"
                                >
                                <button 
                                    type="submit" 
                                    class="p-3 bg-sky-500 text-white rounded-xl hover:bg-sky-600 transition-colors shadow-lg shadow-sky-200 disabled:opacity-50 disabled:cursor-not-allowed"
                                    id="ai-send-btn"
                                >
                                    <i data-lucide="send" class="w-5 h-5"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-24 bg-slate-900 text-white relative overflow-hidden">
            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"></div>
            
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="grid lg:grid-cols-2 gap-16">
                    <div class="reveal">
                        <h2 class="text-4xl md:text-5xl font-serif mb-6">Empieza tu transformación</h2>
                        <p class="text-slate-400 text-lg mb-12">Estamos ubicados en una de las zonas más exclusivas de Caracas. Agenda tu valoración inicial hoy mismo.</p>
                        
                        <div class="space-y-8">
                            <div class="flex items-start gap-6">
                                <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-sky-400 flex-shrink-0">
                                    <i data-lucide="map-pin" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <h4 class="text-lg font-serif mb-1">Ubicación</h4>
                                    <p class="text-slate-400">Torre Cavendes piso 13,<br>Av. Francisco de Miranda,<br>Caracas 1060, Venezuela.</p>
                                </div>
                            </div>

                            <div class="flex items-start gap-6">
                                <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-sky-400 flex-shrink-0">
                                    <i data-lucide="phone" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <h4 class="text-lg font-serif mb-1">Teléfono</h4>
                                    <p class="text-slate-400 hover:text-sky-400 transition-colors cursor-pointer">+584127336400</p>
                                    <p class="text-slate-400 text-sm mt-1">Lunes a Viernes: 9am - 6pm</p>
                                </div>
                            </div>

                            <div class="flex items-start gap-6">
                                <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-sky-400 flex-shrink-0">
                                    <i data-lucide="mail" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <h4 class="text-lg font-serif mb-1">Email</h4>
                                    <p class="text-slate-400 hover:text-sky-400 transition-colors cursor-pointer">ppadronf@hotmail.com</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-3xl p-8 text-slate-800 reveal delay-200">
                        <!-- FORMULARIO WEB3FORMS - MODIFICADO PARA ENVIAR AL CORREO DE LA DOCTORA -->
                        <form id="contact-form">
                            <!-- Configuración de Web3Forms -->
                            <input type="hidden" name="access_key" value="93131d3e-c31f-4b1b-a06e-f62d1137eb4f">
                            <input type="hidden" name="_subject" value="Nuevo mensaje de PPF Estética Médica">
                            <input type="hidden" name="_captcha" value="false">
                            <input type="hidden" name="_template" value="table">
                            <input type="hidden" name="from_name" value="Formulario PPF Estética Médica">
                            <input type="hidden" name="to" value="ppadronf@hotmail.com">
                            
                            <!-- Campos del formulario -->
                            <div class="space-y-6">
                                <div class="grid grid-cols-2 gap-6">
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-slate-700">Nombre</label>
                                        <input type="text" name="name" class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all outline-none" placeholder="Tu nombre" required>
                                    </div>
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-slate-700">Apellido</label>
                                        <input type="text" name="lastname" class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all outline-none" placeholder="Tu apellido" required>
                                    </div>
                                </div>
                                
                                <div class="space-y-2">
                                    <label class="text-sm font-medium text-slate-700">Email</label>
                                    <input type="email" name="email" class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all outline-none" placeholder="tu@email.com" required>
                                </div>

                                <div class="space-y-2">
                                    <label class="text-sm font-medium text-slate-700">Interés</label>
                                    <select name="interest" class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all outline-none text-slate-600">
                                        <option>Valoración General</option>
                                        <option>Tratamientos Faciales</option>
                                        <option>Tratamientos Corporales</option>
                                        <option>Consulta Online</option>
                                    </select>
                                </div>

                                <div class="space-y-2">
                                    <label class="text-sm font-medium text-slate-700">Mensaje</label>
                                    <textarea name="message" rows="4" class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all outline-none resize-none" placeholder="¿Cómo podemos ayudarte?" required></textarea>
                                </div>

                                <button type="submit" class="w-full py-4 bg-sky-600 text-white font-medium rounded-xl hover:bg-sky-700 transition-all shadow-lg hover:shadow-sky-200 transform hover:-translate-y-0.5">
                                    Enviar Mensaje
                                </button>
                            </div>
                        </form>
                        
                        <!-- Alerta de éxito/error -->
                        <div id="form-alert" class="form-alert"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-950 text-slate-400 py-12 border-t border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full bg-sky-900 flex items-center justify-center text-sky-400 font-serif font-bold">P</div>
                <span class="font-serif text-slate-200">PPF Estética Médica</span>
            </div>
            <div class="flex gap-6 text-sm">
                <a href="#" class="hover:text-sky-400 transition-colors">Instagram</a>
                <a href="#" class="hover:text-sky-400 transition-colors">WhatsApp</a>
                <a href="#" class="hover:text-sky-400 transition-colors">LinkedIn</a>
            </div>
            <p class="text-xs text-slate-600">© 2025 Dra. Patricia Padrón Fernández. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // === CONFIGURACIÓN ===
        const OLLAMA_SERVER_URL = 'https://liberatory-adeline-unlaudable.ngrok-free.dev';

        // === Variables globales ===
        let isGenerating = false;
        let isServerAvailable = false;
        let currentSessionId = null;
        let messageCount = 0;

        // === Elementos DOM ===
        const aiMessages = document.getElementById('ai-messages');
        const aiInput = document.getElementById('ai-input');
        const aiSendBtn = document.getElementById('ai-send-btn');
        const aiChatForm = document.getElementById('ai-chat-form');
        const aiTypingIndicator = document.getElementById('ai-typing-indicator');
        const connectionStatus = document.getElementById('connection-status');
        
        const contactForm = document.getElementById('contact-form');
        const formAlert = document.getElementById('form-alert');

        // Initialize Icons
        lucide.createIcons();

        /** * SCROLL PROGRESS BAR 
         * Calculates scroll percentage and updates width
         */
        window.addEventListener('scroll', () => {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = scrollTop / scrollHeight;
            document.getElementById('progress-bar').style.transform = `scaleX(${scrolled})`;
            
            // Navbar styling on scroll
            const navbar = document.getElementById('navbar');
            if (scrollTop > 50) {
                navbar.classList.add('shadow-sm');
            } else {
                navbar.classList.remove('shadow-sm');
            }
        });

        /** * MOBILE MENU TOGGLE 
         */
        const mobileBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        mobileBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Close menu when link clicked
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        /** * SCROLL TO SECTION & ACTIVE STATE (Scroll Spy)
         */
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                const offset = 80; // Navbar height
                const bodyRect = document.body.getBoundingClientRect().top;
                const elementRect = element.getBoundingClientRect().top;
                const elementPosition = elementRect - bodyRect;
                const offsetPosition = elementPosition - offset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        }

        // Highlight active nav link
        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section');
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('.nav-link').forEach(li => {
                li.classList.remove('text-sky-600');
                if (li.dataset.section === current) {
                    li.classList.add('text-sky-600');
                }
            });
        });

        /** * SCROLL REVEAL ANIMATIONS 
         * Uses IntersectionObserver to add 'active' class to elements
         */
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal').forEach(el => {
            observer.observe(el);
        });

        // ========================================
        // FUNCIONALIDAD PPF ASSISTANT CON IA
        // ========================================

        // Inicializar conexión cuando se carga la página
        document.addEventListener('DOMContentLoaded', function() {
            initAIConnection();
        });

        aiChatForm.addEventListener('submit', function(e) {
            e.preventDefault();
            sendAIMessage();
        });

        aiInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                if (!isGenerating) sendAIMessage();
            }
        });

        function addAIMessage(content, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `ai-message ${isUser ? 'user' : 'ai'}`;
            
            const avatarDiv = document.createElement('div');
            avatarDiv.className = 'ai-message-avatar';
            avatarDiv.textContent = isUser ? 'Tú' : 'IA';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'ai-message-content';
            contentDiv.innerHTML = content.replace(/\n/g, '<br>');
            
            messageDiv.appendChild(avatarDiv);
            messageDiv.appendChild(contentDiv);
            aiMessages.appendChild(messageDiv);
            
            aiMessages.scrollTop = aiMessages.scrollHeight;
            
            return contentDiv;
        }

        function showAITyping() {
            aiTypingIndicator.classList.remove('hidden');
            aiMessages.scrollTop = aiMessages.scrollHeight;
        }

        function hideAITyping() {
            aiTypingIndicator.classList.add('hidden');
        }

        function ensureSessionId() {
            if (!currentSessionId) {
                currentSessionId = 'ppf-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
            }
            return currentSessionId;
        }

        async function sendWithRetry(payload, retries = 2) {
            for (let attempt = 0; attempt <= retries; attempt++) {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 15000); // Aumentar a 15s
                    
                    const response = await fetch(`${OLLAMA_SERVER_URL}/chat`, {
                        method: 'POST',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify(payload),
                        signal: controller.signal
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (response.ok) {
                        return await response.json();
                    }
                    
                    if (attempt < retries) {
                        await new Promise(resolve => setTimeout(resolve, 1000 * (attempt + 1)));
                    }
                } catch (error) {
                    if (attempt === retries) throw error;
                    await new Promise(resolve => setTimeout(resolve, 1000 * (attempt + 1)));
                }
            }
        }

        async function checkAndUpdateConnection() {
            try {
                const testResponse = await fetch(`${OLLAMA_SERVER_URL}/chat`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: 'ping', session_id: 'test' })
                });
                
                isServerAvailable = testResponse.ok;
                connectionStatus.textContent = isServerAvailable ? 'Conectado' : 'Modo simulación';
                connectionStatus.style.color = isServerAvailable ? '#00cc66' : '#ffcc00';
                
                return isServerAvailable;
            } catch (error) {
                isServerAvailable = false;
                connectionStatus.textContent = 'Modo simulación';
                connectionStatus.style.color = '#ffcc00';
                return false;
            }
        }

        function resetAISession() {
            currentSessionId = null;
            // Opcional: limpiar mensajes antiguos
            if (aiMessages.children.length > 20) {
                const firstMessages = Array.from(aiMessages.children).slice(0, 5);
                const otherMessages = Array.from(aiMessages.children).slice(5);
                aiMessages.innerHTML = '';
                firstMessages.forEach(msg => aiMessages.appendChild(msg));
                otherMessages.forEach(msg => aiMessages.appendChild(msg));
            }
        }

        function incrementMessageCount() {
            messageCount++;
            if (messageCount >= 15) {
                resetAISession();
                messageCount = 0;
            }
        }

        async function initAIConnection() {
            try {
                connectionStatus.textContent = 'Conectando...';
                
                const serverStatus = await checkAndUpdateConnection();
                
                if (serverStatus) {
                    aiInput.disabled = false;
                    aiSendBtn.disabled = false;
                    aiInput.placeholder = 'Escribe tu pregunta sobre estética médica...';
                } else {
                    throw new Error('Servidor no disponible');
                }
            } catch (error) {
                console.error('Error en inicialización:', error);
                isServerAvailable = false;
                connectionStatus.textContent = 'Modo simulación';
                connectionStatus.style.color = '#ffcc00';
                
                aiInput.disabled = false;
                aiSendBtn.disabled = false;
                aiInput.placeholder = 'Escribe tu mensaje (modo simulación)...';
            }
        }

        async function sendAIMessage() {
            const text = aiInput.value.trim();
            if (!text || isGenerating) return;
            
            aiInput.value = '';
            aiInput.style.height = 'auto';
            
            addAIMessage(text, true);
            incrementMessageCount();
            
            aiInput.disabled = true;
            aiSendBtn.disabled = true;
            isGenerating = true;
            
            showAITyping();
            
            try {
                // Verificar conexión antes de enviar
                await checkAndUpdateConnection();
                
                let responseText;
                
                if (isServerAvailable) {
                    const payload = {
                        message: `Eres un asistente especializado en estética médica que trabaja para la Dra. Patricia Padrón Fernández. Responde de manera profesional, educada y precisa a esta consulta: "${text}". 
                        
                        Información sobre la Dra.:
                        - Especialista en armonización facial y corporal
                        - Más de 10 años de experiencia
                        - Consultorio en Torre Cavendes, Caracas
                        - Teléfono: +584127336400
                        - Email: ppadronf@hotmail.com
                        
                        Si la consulta es sobre tratamientos, proporciona información general pero recomienda una cita para evaluación personalizada.`,
                        session_id: ensureSessionId()
                    };
                    
                    const data = await sendWithRetry(payload);
                    
                    if (data.status === 'success' && data.response) {
                        responseText = data.response;
                        
                        if (data.session_id && !currentSessionId) {
                            currentSessionId = data.session_id;
                        }
                    } else {
                        throw new Error('Respuesta del servidor inválida');
                    }
                } else {
                    // Modo simulación
                    await new Promise(resolve => setTimeout(resolve, 1500 + Math.random() * 1000));
                    
                    // Respuesta inteligente basada en palabras clave
                    responseText = generateSmartResponse(text);
                }
                
                hideAITyping();
                addAIMessage(responseText);
                
            } catch (error) {
                hideAITyping();
                
                console.error('Error enviando mensaje:', error);
                
                // En caso de error, usar respuesta simulada
                const fallbackResponse = generateSmartResponse(text);
                addAIMessage(fallbackResponse);
                
                // No cambiar permanentemente a simulación, solo marcar como no disponible
                isServerAvailable = false;
                connectionStatus.textContent = 'Reconectando...';
                connectionStatus.style.color = '#ff9900';
                
                // Intentar reconexión en background
                setTimeout(checkAndUpdateConnection, 3000);
            } finally {
                aiInput.disabled = false;
                aiSendBtn.disabled = false;
                isGenerating = false;
                aiInput.focus();
            }
        }

        // Función para generar respuestas inteligentes basadas en palabras clave
        function generateSmartResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase();
            
            // Palabras clave y respuestas asociadas
            if (lowerMessage.includes('precio') || lowerMessage.includes('costo') || lowerMessage.includes('cuánto')) {
                return "Los precios varían según el tratamiento y las necesidades individuales. Para una cotización precisa, recomiendo agendar una valoración con la Dra. Padrón donde evaluará tu caso específico y te proporcionará un plan de tratamiento detallado con los costos.";
            }
            
            if (lowerMessage.includes('tiempo') || lowerMessage.includes('dura') || lowerMessage.includes('recuperación')) {
                return "Los tiempos de recuperación dependen del tratamiento:\n\n• Armonización facial: 24-48 horas\n• Bioestimulación: 2-3 días\n• Toxina botulínica: 3-5 días\n\nLa Dra. Padrón te dará instrucciones específicas post-tratamiento para optimizar tu recuperación.";
            }
            
            if (lowerMessage.includes('riesgo') || lowerMessage.includes('efecto') || lowerMessage.includes('seguro')) {
                return "Todos los procedimientos en PPF Estética Médica son realizados por la Dra. Patricia Padrón con más de 10 años de experiencia. Utilizamos productos certificados y técnicas seguras. Los efectos secundarios son mínimos y temporales cuando se siguen las indicaciones post-tratamiento.";
            }
            
            if (lowerMessage.includes('cita') || lowerMessage.includes('agendar') || lowerMessage.includes('consultar')) {
                return "¡Excelente! Para agendar tu cita puedes:\n\n📞 Llamar al: +584127336400\n✉️ Email: ppadronf@hotmail.com\n📍 Dirección: Torre Cavendes piso 13, Av. Francisco de Miranda, Caracas\n\nLa Dra. Padrón te atenderá personalmente para evaluar tus objetivos y crear un plan de tratamiento personalizado.";
            }
            
            if (lowerMessage.includes('horario') || lowerMessage.includes('disponible') || lowerMessage.includes('cuándo')) {
                return "El horario de atención es:\n\n🕘 Lunes a Viernes: 9:00 AM - 6:00 PM\n🕙 Sábados: 9:00 AM - 1:00 PM\n\nTe recomendamos agendar con anticipación para garantizar tu preferencia horaria.";
            }
            
            // Respuestas generales sobre estética médica
            const medicalResponses = [
                "¡Hola! Soy tu asistente especializado en estética médica. La Dra. Patricia Padrón se especializa en tratamientos faciales y corporales mínimamente invasivos. ¿En qué puedo ayudarte hoy?",
                "Para armonización facial, la Dra. Padrón utiliza técnicas avanzadas con ácido hialurónico para lograr resultados naturales. El procedimiento es ambulatorio y tiene una recuperación rápida.",
                "La bioestimulación con inductores de colágeno es excelente para mejorar la calidad de la piel. Los resultados comienzan a verse a las 2-3 semanas y continúan mejorando hasta por 6 meses.",
                "La toxina botulínica es ideal para suavizar líneas de expresión. Los efectos duran aproximadamente 4-6 meses. La Dra. Padrón aplica técnicas que preservan la expresividad natural.",
                "Para una valoración personalizada, recomiendo agendar una cita en el consultorio. La Dra. Padrón evaluará tus necesidades específicas y creará un plan de tratamiento individualizado.",
                "Los tratamientos de mantenimiento son importantes para mantener los resultados. Generalmente se recomiendan sesiones cada 6-12 meses dependiendo del procedimiento.",
                "En PPF Estética Médica utilizamos tecnología de última generación y productos de la más alta calidad para garantizar tu seguridad y satisfacción.",
                "La Dra. Padrón tiene más de 10 años de experiencia en medicina estética y se mantiene actualizada con las últimas técnicas y procedimientos."
            ];
            
            // Respuesta aleatoria de las respuestas médicas
            return medicalResponses[Math.floor(Math.random() * medicalResponses.length)];
        }

        function clearAIChat() {
            aiMessages.innerHTML = '';
            addAIMessage("¡Hola! Soy el asistente virtual de la Dra. Patricia Padrón. ¿En qué puedo ayudarte hoy? Puedes preguntarme sobre tratamientos faciales, corporales o agendar una cita.", false);
            messageCount = 0;
            resetAISession();
        }

        // === WEB3FORMS - MANEJO DEL FORMULARIO ===
        const submitBtn = contactForm.querySelector('button[type="submit"]');
        
        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Desactivar botón y mostrar estado de carga
            submitBtn.textContent = 'Enviando...';
            submitBtn.disabled = true;
            formAlert.style.display = 'none';
            
            // Preparar datos
            const formData = new FormData(contactForm);
            const data = Object.fromEntries(formData);
            
            try {
                const response = await fetch('https://api.web3forms.com/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (response.ok && result.success) {
                    // Éxito
                    formAlert.textContent = '¡Mensaje enviado con éxito! La Dra. Patricia Padrón te responderá pronto.';
                    formAlert.className = 'form-alert success';
                    formAlert.style.display = 'block';
                    contactForm.reset(); // Limpiar formulario
                } else {
                    // Error de validación
                    formAlert.textContent = 'Error: ' + (result.message || 'No se pudo enviar el mensaje');
                    formAlert.className = 'form-alert error';
                    formAlert.style.display = 'block';
                }
            } catch (error) {
                // Error de red
                formAlert.textContent = 'Error de conexión. Por favor, inténtalo de nuevo.';
                formAlert.className = 'form-alert error';
                formAlert.style.display = 'block';
            } finally {
                // Restaurar botón
                submitBtn.textContent = 'Enviar Mensaje';
                submitBtn.disabled = false;
                
                // Ocultar alerta después de 5 segundos
                setTimeout(() => {
                    formAlert.style.display = 'none';
                }, 5000);
            }
        });

    </script>
</body>
</html>
